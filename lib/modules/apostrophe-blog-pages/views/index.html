{% extends 'apostrophe-templates:layout.html' %}

{% import 'macros/blogMacros.html' as blog %}

{% block title %}Quodl | {{ data.page.title | e }}{% endblock %}

{% import 'apostrophe-pager:macros.html' as pager %}

{% block main %}
<section class="be-bg-grey pt7-ns pt6 pb5">

  <div class="w-90 w-80-ns center tc">
    <h1 class="tc f1 fw4 be-red">
      {{ apos.singleton(data.page, 'pageHeader', 'apostrophe-rich-text') }}
    </h1>
    <h2 class="tc fw3 w-80-ns center pb4">
      {{ apos.singleton(data.page, 'pageSubheader', 'apostrophe-rich-text') }}
    </h2>
  </div>

  <section class="bw1 be-b--gray w-70 center">
    <form method="GET" action="/search" class="flex justify-center">
      <input class="bn be-bg-white w-60 h3 br-pill pl4 shadow-2" type="text" name="q" placeholder="Search Publications" />
      <input type="submit" value="" class="search ml1" alt="magnifying glass">
    </form>
  </section>

  <section class="bg-white mt5 tl br3 shadow-2 w-90 w-70-ns pv3 ph3 ph5-ns center lh-copy">
    {# {% if data.page._edit %}
      <div data-new-blog-post>
        <div class="">
          <a class="" href="#"><i class="icon-plus"></i> New Blog Post</a>
        </div>
      </div>
    {% endif %} #}
    <div class="">
      {{ blog.renderBlogListings(data.pieces) }}
    <div class="tc">
      {{ pager.render({ page: data.currentPage, total: data.totalPages }, '#') }}
    </div>
    </div>
  </section>
</section>

{% endblock %}
