{% extends 'apostrophe-templates:layout.html' %}

{% import 'macros/blogMacros.html' as blog %}

{% block title %}Quodl | {{ data.page.title | e }}{% endblock %}

{% import 'apostrophe-pager:macros.html' as pager %}

{% block main %}
<section class="bg-icons pv5">
  <div class="w-90 w-80-ns center tc">
    <h1 class="tc f2 quodl-blue">
      {{ apos.singleton(data.page, 'pageHeader', 'apostrophe-rich-text') }}
    </h1>
    <h2 class="tc fw1 pb4">
      {{ apos.singleton(data.page, 'pageSubheader', 'apostrophe-rich-text') }}
    </h2>

  <section class="bb bw1 quodl-b--gray w-70 center">
    <div class="w4 pa1 mh2 dib">
      <a class="b black no-underline" href="/blog">All Articles</a>
    </div>
    <div class="w4 pa1 mh2 dib">
      <a class="b black no-underline" href="/blog/lecturers">For Lecturers</a>
    </div>
    <div class="w4 pa1 mh2 dib">
      <a class="b black no-underline" href="/blog/students">For Students</a>
    </div>
  </section>

  <section class="bg-white mt5 tl br3 shadow-2 w-90 pv3 ph3 ph5-ns center lh-copy">
    {# {% if data.page._edit %}
      <div data-new-blog-post>
        <div class="">
          <a class="" href="#"><i class="icon-plus"></i> New Blog Post</a>
        </div>
      </div>
    {% endif %} #}
    <div class="">
      {{ blog.renderBlogListings(data.pieces) }}
    <div class="tc">
      {{ pager.render({ page: data.currentPage, total: data.totalPages }, '#') }}
    </div>
    </div>
  </section>
</section>

{% endblock %}
